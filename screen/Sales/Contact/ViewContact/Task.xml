<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-2.1.xsd"
        default-menu-title="Tasks" default-menu-index="2">

    <transition name="createTask">
        <service-call name="sales.SalesServices.create#Task" in-map="context"/>
        <default-response url="."/>
    </transition>
    <actions>
        <entity-find entity-name="WorkEffortAndParty" list="weapList">
            <econdition field-name="partyId"/>
        </entity-find>
    </actions>
    <widgets>
        <container-box><box-header title="Tasks"/><box-toolbar>
        <container-dialog id="NewTaskContainer" button-text="New Task">
            <form-single name="NewTask" transition="createTask">
                <field name="partyId"><default-field><hidden/></default-field></field>
                <field name="workEffortName"><default-field title="Task Name"><text-line/></default-field></field>
                <field name="accountPartyId" from="partyId"><default-field><hidden/></default-field></field>
                <field name="submitButton"><default-field title="Create Task"><submit/></default-field></field>
            </form-single>
        </container-dialog></box-toolbar><box-body-nopad>
            <!-- Add dialog box for updating tasks -->
            <form-list name="UpdatePartyTaskForm" list="weapList" skip-header="true">
                <field name="partyId"><default-field><hidden/></default-field></field>
                <field name="workEffortId"><default-field title="Task">
                    <link text="${workEffortId} - ${workEffortName}" url="editProject" link-type="anchor"/>
                </default-field></field>
            </form-list>
        </box-body-nopad></container-box>
    </widgets>
</screen>