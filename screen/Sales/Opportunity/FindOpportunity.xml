<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns=""
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-2.1.xsd"
        require-authentication="true" default-menu-title="Find Opportunity">
    <pre-actions>
        <set field="indexName" value="mantle_sales_oppy"/>
        <set field="documentType" value="MantleSalesOpportunity"/>
        <set field="queryString" value="*"/>
    </pre-actions>
    <actions>
        <service-call name="org.moqui.search.SearchServices.search#DataDocuments" in-map="context" out-map="context"/>
    </actions>
    <widgets>

        <form-list name="OpportunityList" list="documentList" skip-form="true" header-dialog="true" select-columns="true" saved-finds="true"
                   show-csv-button="true" show-xlsx-button="true" show-all-button="true">
            <field name="name"><default-field title="Opportunity"><display/>
            </default-field>
            </field>
            <field name="accountPartyId"><default-field title="Sales Account"><display-entity entity-name="mantle.party.PartyDetail" text="PartyNameOnlyTemplate"/>
                </default-field>
            </field>
            <field name="partyId"><default-field title="Sales Person"><display-entity entity-name="mantle.party.PartyDetail" text="PartyNameOnlyTemplate"/>
                </default-field>
            </field>
        </form-list>
    </widgets>
</screen>